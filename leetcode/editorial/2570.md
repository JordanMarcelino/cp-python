# ğŸš€ [2570] [Merge Two 2D Arrays by Summing Values](../easy/2570.py)

## ğŸ“ Problem Statement

We are given two **sorted** 2D arrays, `nums1` and `nums2`, where each entry represents **an ID and a value**:

-   `nums1[i] = [idi, vali]` means **ID = idi** has a value **vali**.
-   `nums2[j] = [idi, vali]` represents a similar mapping.
-   **Both arrays contain unique IDs and are sorted in ascending order.**

Our task is to **merge** these arrays into one, respecting the following conditions:  
âœ… Include each **unique ID** only once.  
âœ… If an **ID appears in both arrays**, sum its values.  
âœ… If an **ID appears in only one array**, keep its value as is.  
âœ… **Sort the final result by ID**.

---

## ğŸ”¹ Example 1

```
Input: nums1 = [[1,2],[2,3],[4,5]], nums2 = [[1,4],[3,2],[4,1]]
Output: [[1,6],[2,3],[3,2],[4,6]]
```

### ğŸ” Breakdown

-   **ID = 1** â†’ 2 (from `nums1`) + 4 (from `nums2`) = **6**
-   **ID = 2** â†’ Only in `nums1` â†’ **3**
-   **ID = 3** â†’ Only in `nums2` â†’ **2**
-   **ID = 4** â†’ 5 (from `nums1`) + 1 (from `nums2`) = **6**

âœ… **Final Merged Array:** `[[1,6],[2,3],[3,2],[4,6]]`

---

## ğŸ”¹ Example 2

```
Input: nums1 = [[2,4],[3,6],[5,5]], nums2 = [[1,3],[4,3]]
Output: [[1,3],[2,4],[3,6],[4,3],[5,5]]
```

### ğŸ” Breakdown

-   No common IDs. Just merge both arrays.  
    âœ… **Final Merged Array:** `[[1,3],[2,4],[3,6],[4,3],[5,5]]`

---

## ğŸ’¡ Solution Approach

Since **both arrays are sorted**, we can use the **two-pointer technique** to merge efficiently in **O(N + M) time**.

### ğŸ”¹ Steps

1ï¸âƒ£ **Use two pointers** `i` and `j` to iterate through `nums1` and `nums2`.  
2ï¸âƒ£ Compare IDs in both arrays:

-   If `nums1[i][0] == nums2[j][0]`:
    -   **Sum their values** and move both pointers.
-   If `nums1[i][0] < nums2[j][0]`:
    -   **Add `nums1[i]`** and move pointer `i`.
-   Otherwise, **add `nums2[j]`** and move pointer `j`.  
    3ï¸âƒ£ **Add any remaining elements** in either `nums1` or `nums2`.

---

## ğŸ”¨ Implementation

```python
from typing import List

class Solution:
    def mergeArrays(self, nums1: List[List[int]], nums2: List[List[int]]) -> List[List[int]]:
        N, M = len(nums1), len(nums2)
        ans = []

        i = j = 0
        while i < N and j < M:
            if nums1[i][0] == nums2[j][0]:  # Same ID â†’ Sum values
                ans.append([nums1[i][0], nums1[i][1] + nums2[j][1]])
                i += 1
                j += 1
            elif nums1[i][0] < nums2[j][0]:  # nums1 ID is smaller â†’ Add it
                ans.append(nums1[i])
                i += 1
            else:  # nums2 ID is smaller â†’ Add it
                ans.append(nums2[j])
                j += 1

        # Add remaining elements from nums1 (if any)
        while i < N:
            ans.append(nums1[i])
            i += 1

        # Add remaining elements from nums2 (if any)
        while j < M:
            ans.append(nums2[j])
            j += 1

        return ans
```

---

## â±ï¸ Complexity Analysis

-   **Time Complexity:** \( O(N + M) \) â€” We traverse both arrays once.
-   **Space Complexity:** \( O(N + M) \) â€” We store the merged array.

---

## ğŸ Walkthrough Example

Let's go step by step for:

```
nums1 = [[1,2],[2,3],[4,5]]
nums2 = [[1,4],[3,2],[4,1]]
```

### ğŸ”¹ Step 1: Compare IDs

| `nums1[i]` | `nums2[j]` | Action                             |
| ---------- | ---------- | ---------------------------------- |
| `[1,2]`    | `[1,4]`    | Same ID â†’ **Sum values** â†’ `[1,6]` |
| `[2,3]`    | `[3,2]`    | `2 < 3` â†’ Add `[2,3]`              |
| `[4,5]`    | `[3,2]`    | `3 < 4` â†’ Add `[3,2]`              |
| `[4,5]`    | `[4,1]`    | Same ID â†’ **Sum values** â†’ `[4,6]` |

### ğŸ”¹ Step 2: Add Remaining Elements

âœ… **Final Output:** `[[1,6],[2,3],[3,2],[4,6]]`

---

## ğŸ¯ Summary

âœ… **Step 1:** Use **two pointers** to merge sorted arrays efficiently.  
âœ… **Step 2:** **Sum values for common IDs** and **preserve unique ones**.  
âœ… **Time Complexity:** \( O(N + M) \) âœ… **Space Complexity:** \( O(N + M) \)
